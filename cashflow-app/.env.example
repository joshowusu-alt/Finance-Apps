# ──────────────────────────────────────────────
# Velanovo — Environment Variables
# Copy this file to .env.local and fill in values
# ──────────────────────────────────────────────

# ─── Plaid (Bank Connection) ─────────────────
# Sign up at https://dashboard.plaid.com/signup
# After signing up, find your keys at https://dashboard.plaid.com/developers/keys
PLAID_CLIENT_ID=
PLAID_SECRET=
PLAID_ENV=sandbox
# AES-256-GCM key for encrypting Plaid access_tokens at rest.
# Generate with: openssl rand -hex 32
PLAID_ENCRYPTION_KEY=
# Options: sandbox | development | production
# - sandbox: free, uses test credentials (user_good / pass_good)
# - development: free, connects to real banks (100 live Items max)
# - production: paid, unlimited live Items

# ─── Neon Postgres (Serverless DB) ───────────
# Sign up at https://neon.tech
# Create a project, then copy the connection string
DATABASE_URL=

# ─── Supabase (Auth + Cloud Sync) ────────────
# Sign up at https://supabase.com
# Create a project → Settings → API → copy these values
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# ─── OpenAI (AI Coach — Optional) ────────────
# Sign up at https://platform.openai.com
# The AI coach will gracefully degrade if this is missing
OPENAI_API_KEY=

# ─── Web Push / VAPID (Server-Side Push Notifications) ───────────
# Generate a key pair with: npx web-push generate-vapid-keys
# The public key is exposed to the browser (NEXT_PUBLIC_ prefix); keep the private key secret.
NEXT_PUBLIC_VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:hello@velanovo.com

# ─── Stripe (Payments & Subscriptions) ───────
# Sign up at https://dashboard.stripe.com
# Create a product + recurring price, then copy values below
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRO_PRICE_ID=price_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
NEXT_PUBLIC_APP_URL=https://cashflow-app-eight.vercel.app

# ─────────────────────────────────────────────────────────────
# Cron job authentication (all /api/cron/* routes require this)
CRON_SECRET=your-random-secret-here

# Supabase service role — bypasses RLS for server-side operations
# NEVER expose this to the client. Server-only.
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# Sentry error monitoring
SENTRY_DSN=https://your-dsn@sentry.io/project-id
SENTRY_ORG=your-sentry-org-slug
SENTRY_PROJECT=your-sentry-project-slug

# Optional: Upstash Redis for distributed rate limiting
# Falls back to in-memory rate limiting if not set
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# Review/beta mode — set to "true" to grant all users Pro access without Stripe
# Set to "false" (or omit) when billing goes live
NEXT_PUBLIC_REVIEW_MODE=false

# Migration tool — set to "true" to enable /migrate route
NEXT_PUBLIC_ENABLE_MIGRATE=false
